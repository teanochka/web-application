<!DOCTYPE html>
<html>
<head>
    <title>Вывоз ТКО</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.css" />
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    <script src="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.js"></script>
</head>
<!-- <body onload="initMap()"> -->
<body>
    <h1>Загрузка фото вывоза ТКО</h1>
    <form id="form" action="/upload" method="post" enctype="multipart/form-data">
        <label>Выберите до 10 фото:</label>
        <input type="file" name="photos" accept="image/*" multiple required><br><br>

        <!-- <div id="map" style="height: 400px; position: relative;">
            <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -100%); z-index: 9999;">
                <img src="https://www.svgrepo.com/show/296275/marker.svg" width="30" height="30" alt="marker">
            </div>
        </div> -->

        <label>
            <input type="checkbox" name=confirm id="confirmCheckbox" onchange="enableSubmit()"> Я подтверждаю, что провел/a вывоз ТКО
        </label><br><br>

        <button id="submitBtn" type="submit" disabled>Отправить</button>
    </form>

    <script>
        // let selectedLocation = null;

        function enableSubmit() {
            document.getElementById("submitBtn").disabled = !document.getElementById("confirmCheckbox").checked;
        }

        // function initMap() {
        //     const map = L.map('map').setView([51.505, -0.09], 13); // Default view

        //     // Добавление базового слоя карты
        //     L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        //         maxZoom: 19
        //     }).addTo(map);

            // const geocoder = L.Control.geocoder().addTo(map);

        //     // Обновление адреса при движении карты
        //     map.on('moveend', function () {
        //         const center = map.getCenter();
        //         selectedLocation = center; // Сохраняем координаты центра
        //         geocoder.options.geocoder.reverse(center, map.options.crs.scale(map.getZoom()), function (results) {
        //             const result = results[0];
        //             if (result) {
        //                 document.getElementById("address").textContent = result.name;
        //             } else {
        //                 document.getElementById("address").textContent = "Не удалось определить адрес";
        //             }
        //         });
        //     });

        //     // Автоматическая геолокация
        //     if ("geolocation" in navigator) {
        //         navigator.geolocation.getCurrentPosition((position) => {
        //             const { latitude, longitude } = position.coords;
        //             map.setView([latitude, longitude], 13);
        //         });
        //     }
        // }
    </script>
</body>
</html>
